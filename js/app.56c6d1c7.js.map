{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/Index.vue?14f1","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?f31f","webpack:///./src/views/Index.vue","webpack:///./src/components/Wall.vue?21c9","webpack:///./src/views/Room.vue?c848","webpack:///./src/components/Wall.vue?9aa3","webpack:///src/components/Wall.vue","webpack:///./src/components/Wall.vue?5147","webpack:///./src/components/Wall.vue","webpack:///./src/components/Video.vue?7afe","webpack:///src/components/Video.vue","webpack:///./src/components/Video.vue?892c","webpack:///./src/components/Video.vue","webpack:///src/views/Room.vue","webpack:///./src/views/Room.vue?0bca","webpack:///./src/views/Room.vue","webpack:///./src/App.vue?e77a","webpack:///src/App.vue","webpack:///./src/App.vue?98c8","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/App.vue?f46a","webpack:///./src/store.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","1","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","_v","staticRenderFns","random_string","num","alphabet","charset","Math","random","Indexvue_type_script_lang_js","mounted","roomId","$router","params","id","views_Indexvue_type_script_lang_js","component","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Wall_vue_vue_type_style_index_0_id_05b566b8_lang_scss_scoped_true__WEBPACK_IMPORTED_MODULE_0___default","staticClass","on","submit","$event","preventDefault","setName","directives","rawName","expression","modifiers","trim","attrs","type","maxlength","domProps","input","target","composing","displayname","blur","$forceUpdate","_s","$store","state","room","_l","peer","title","Wallvue_type_template_id_05b566b8_scoped_true_render","post","idx","class","announce","from","getters","_e","text","me","placeholder","Wallvue_type_template_id_05b566b8_scoped_true_staticRenderFns","Wallvue_type_script_lang_js","props","methods","commit","components_Wallvue_type_script_lang_js","Wall","Videovue_type_template_id_29c64971_render","url","video","ref","video-id","playing","handlePlaying","paused","handlePaused","ready","handleReady","Videovue_type_template_id_29c64971_staticRenderFns","vue_runtime_esm","use","vue_youtube_embed","Videovue_type_script_lang_js","player","pulling","pullState","offset","timestamp","Date","seek","pushState","getOffset","undefined","pause","play","seekTo","playVideo","pauseVideo","isPlaying","getPlayerState","getCurrentTime","$youtube","getIdFromURL","subscribe","mutation","payload","components_Videovue_type_script_lang_js","Video_component","Video","Roomvue_type_script_lang_js","$route","components","created","dispatch","views_Roomvue_type_script_lang_js","Room_component","Appvue_type_script_lang_js","src_Appvue_type_script_lang_js","vue__WEBPACK_IMPORTED_MODULE_1__","config","productionTip","vue_router__WEBPACK_IMPORTED_MODULE_2__","router","base","__dirname","routes","path","_views_Index_vue__WEBPACK_IMPORTED_MODULE_6__","_views_Room_vue__WEBPACK_IMPORTED_MODULE_5__","app","store","_store__WEBPACK_IMPORTED_MODULE_3__","h","_App_vue__WEBPACK_IMPORTED_MODULE_4__","$mount","_node_modules_mini_css_extract_plugin_dist_loader_js_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_App_vue_vue_type_style_index_0_lang_scss__WEBPACK_IMPORTED_MODULE_0___default","ipfs","Ipfs","EXPERIMENTAL","pubsub","Addresses","Swarm","vuex__WEBPACK_IMPORTED_MODULE_2__","ipfsRoom","maxLength","browserStore","localStorage","anonName","defaultName","getItem","getName","peers","Store","strict","posts","started","askedState","mutations","handleReceive","_ref","set","sync","sendTo","JSON","stringify","broadcast","round","addPost","reset","setMe","_ref2","delete","setItem","setRoom","setVideo","_ref3","addPeer","removePeer","waitSync","actions","_ref4","_this","leave","console","log","ipfs_pubsub_room__WEBPACK_IMPORTED_MODULE_3___default","then","peerInfo","numPeers","error","message","parse","requestState","_ref5","getPeers"],"mappings":"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","file":"js/app.56c6d1c7.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t1: 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([2,0]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\"Creating room...\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>Creating room...</div>\n</template>\n\n<script>\nfunction random_string(num, alphabet) {\n    const charset = alphabet || 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n    let r = '';\n    for (let i=num; i > 0; i--) {\n        r += charset[~~(Math.random() * charset.length)];\n    }\n    return r;\n}\n\nexport default {\n  name: 'Index',\n  mounted() {\n    const roomId = random_string(8)\n    this.$router.push({ name: 'room', params: { id: roomId }})\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=b5ebc260\"\nimport script from \"./Index.vue?vue&type=script&lang=js\"\nexport * from \"./Index.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=style&index=0&id=05b566b8&lang=scss&scoped=true\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=style&index=0&id=05b566b8&lang=scss&scoped=true\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"room\"},[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.setName($event)}}},[_vm._v(\"\\n    I am \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.displayname),expression:\"displayname\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"maxlength\":\"10\"},domProps:{\"value\":(_vm.displayname)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.displayname=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('input',{attrs:{\"type\":\"submit\",\"value\":\"Save\"}})]),_vm._v(\"\\n\\n  Welcome to \"+_vm._s(_vm.$store.state.room)+\".\\n\\n  \"),_c('h2',[_vm._v(\"Online\")]),_c('ul',_vm._l((_vm.$store.state.peers),function(peer,id){return _c('li',{key:id,attrs:{\"title\":id}},[_vm._v(\"\\n      \"+_vm._s(peer.name || id)+\"\\n    \")])})),_c('wall',{attrs:{\"room\":_vm.room}}),_c('Video')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wall\"},[_c('h2',[_vm._v(\"Wall\")]),_c('ul',{staticClass:\"posts\"},[_vm._l((_vm.$store.state.posts),function(post,idx){return _c('li',{key:idx,class:{announce: !post.from}},[(post.from)?_c('span',{staticClass:\"displayname\"},[_vm._v(_vm._s(_vm.$store.getters.name(post.from)))]):_vm._e(),_vm._v(\" \"+_vm._s(post.text)+\"\\n    \")])}),_c('li',[_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.post($event)}}},[_c('span',{staticClass:\"displayname\"},[_vm._v(_vm._s(_vm.$store.getters.name(_vm.$store.state.me.id)))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.text),expression:\"text\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"...\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('input',{attrs:{\"type\":\"submit\",\"value\":\"Post\"}})])])],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wall\">\n    <h2>Wall</h2>\n    <ul class=\"posts\">\n      <li v-for=\"(post, idx) in $store.state.posts\" :key='idx' :class=\"{announce: !post.from}\">\n        <span class=\"displayname\" v-if=\"post.from\">{{$store.getters.name(post.from)}}</span> {{post.text}}\n      </li>\n      <li>\n        <form v-on:submit.prevent=\"post\">\n          <span class=\"displayname\">{{$store.getters.name($store.state.me.id)}}</span>\n          <input type=\"text\" v-model.trim=\"text\" placeholder=\"...\" />\n          <input type=\"submit\" value=\"Post\" />\n        </form>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'Wall',\n  props: ['room'],\n  data: () => {\n    return {\n      text: '',\n    };\n  },\n  methods: {\n    post() {\n      this.$store.commit('addPost', this.text)\n      this.text = '';\n    }\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wall {\n    li {\n        margin-bottom: 0.5em;\n        line-height: 1.5em;\n    }\n    .displayname {\n        display: inline-block;\n        vertical-align: bottom;\n        width: 7em;\n        overflow: hidden;\n        font-weight: bold;\n        text-align: right;\n        &:after {\n            content: \": \";\n        }\n    }\n    .announce {\n      color: rgba(0, 0, 0, 0.5);\n      font-style: italic;\n    }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Wall.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Wall.vue?vue&type=template&id=05b566b8&scoped=true\"\nimport script from \"./Wall.vue?vue&type=script&lang=js\"\nexport * from \"./Wall.vue?vue&type=script&lang=js\"\nimport style0 from \"./Wall.vue?vue&type=style&index=0&id=05b566b8&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"05b566b8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"video\"},[_c('h2',[_vm._v(\"Video\")]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.post($event)}}},[_c('label',[_vm._v(\"Youtube Link\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.url),expression:\"url\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":\"https://youtube.com/...\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value.trim()},\"blur\":function($event){_vm.$forceUpdate()}}}),_c('input',{attrs:{\"type\":\"submit\",\"value\":\"Set\"}})]),(_vm.$store.state.video.id)?_c('youtube',{ref:\"youtube\",attrs:{\"video-id\":_vm.$store.state.video.id},on:{\"playing\":_vm.handlePlaying,\"paused\":_vm.handlePaused,\"ready\":_vm.handleReady}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"video\">\n    <h2>Video</h2>\n    <form v-on:submit.prevent=\"post\">\n      <label>Youtube Link</label>\n      <input type=\"text\" v-model.trim=\"url\" placeholder=\"https://youtube.com/...\" />\n      <input type=\"submit\" value=\"Set\" />\n    </form>\n    <youtube :video-id=\"$store.state.video.id\" ref=\"youtube\" @playing=\"handlePlaying\" @paused=\"handlePaused\" @ready=\"handleReady\" v-if=\"$store.state.video.id\"></youtube>\n  </div>\n</template>\n\n<script>\n\nimport Vue from 'vue'\nimport VueYouTubeEmbed from 'vue-youtube-embed'\nVue.use(VueYouTubeEmbed)\n\nexport default {\n  name: 'Video',\n  data: () => {\n    return {\n      url: '',\n      paused: true,\n      player: null,\n      pulling: false,\n    }\n  },\n  methods: {\n    handleReady(player) {\n      this.player = player\n      this.pullState()\n    },\n    handlePlaying() {\n      this.paused = false\n      const video = this.$store.state.video\n      if (this.pulling) {\n        // Seek again just in case buffering took a while\n        this.pulling = false\n        const offset = video.timestamp ? ((+new Date()) - video.timestamp) / 1000 : 0\n        this.seek(offset + video.offset)\n      }\n      this.pushState()\n    },\n    handlePaused() {\n      this.paused = true\n      this.pushState()\n    },\n    pushState() {\n      if (this.$store.state.video.paused === this.paused) return;\n      this.$store.commit('setVideo', {\n        paused: this.paused,\n        offset: this.getOffset(),\n        id: this.$store.state.video.id,\n      })\n    },\n    pullState(state) {\n      const video = state !== undefined ? state.video : this.$store.state.video\n      if (video.paused === this.paused) return\n\n      if (video.paused) {\n        this.pause()\n        return\n      }\n\n      if (video.timestamp) {\n        const offset = ((+new Date()) - video.timestamp) / 1000\n        this.seek(offset + video.offset)\n      }\n      this.pulling = true\n      this.play()\n    },\n    seek(offset) {\n      return offset && this.player && this.player.seekTo(offset)\n    },\n    play() {\n      return this.player && this.player.playVideo()\n    },\n    pause() {\n      return this.player && this.player.pauseVideo()\n    },\n    isPlaying() {\n      return this.player && this.player.getPlayerState() === 1\n    },\n    getOffset() {\n      return this.player && this.player.getCurrentTime() || 0\n    },\n    post() {\n      this.$store.commit('setVideo', {\n        paused: true,\n        offset: 0,\n        id: this.$youtube.getIdFromURL(this.url),\n      })\n      this.url = ''\n    }\n  },\n  mounted() {\n    this.$store.subscribe(function(mutation, state) {\n      if (mutation.type !== 'handleReceive') return\n      if (mutation.payload.data.video === undefined) return\n      if (mutation.payload.data.video.paused === this.paused) return\n      this.pullState(state)\n    }.bind(this))\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Video.vue?vue&type=template&id=29c64971\"\nimport script from \"./Video.vue?vue&type=script&lang=js\"\nexport * from \"./Video.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"room\">\n    <form v-on:submit.prevent=\"setName\">\n      I am <input type=\"text\" v-model.trim=\"displayname\" maxlength=\"10\" />\n      <input type=\"submit\" value=\"Save\" />\n    </form>\n\n    Welcome to {{ $store.state.room }}.\n\n    <h2>Online</h2>\n    <ul>\n      <li v-for=\"(peer, id) in $store.state.peers\" :key=\"id\" :title=\"id\">\n        {{peer.name || id}}\n      </li>\n    </ul>\n\n    <wall :room=\"room\"></wall>\n\n    <Video></Video>\n  </div>\n</template>\n\n<script>\nimport Wall from '@/components/Wall.vue'\nimport Video from '@/components/Video.vue'\n\nexport default {\n  name: 'Room',\n  data() {\n    return {\n      room: this.$route.params.id,\n      displayname: this.$store.state.me.name,\n    }\n  },\n  methods: {\n    setName() {\n      this.$store.commit('setMe', {name: this.displayname})\n    },\n  },\n  components: {\n    Wall,\n    Video,\n  },\n  created() {\n    this.$store.dispatch('setRoom', this.room)\n  },\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Room.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Room.vue?vue&type=template&id=4e227a9b\"\nimport script from \"./Room.vue?vue&type=script&lang=js\"\nexport * from \"./Room.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('h1',[_vm._v(\"readyup\")]),_c('p',[_vm._v(\"\\n    Coordinate your work or play sessions with your friends.\\n  \")]),_c('router-view',{staticClass:\"view\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div id=\"app\">\n    <h1>readyup</h1>\n    <p>\n      Coordinate your work or play sessions with your friends.\n    </p>\n    <router-view class=\"view\"></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app',\n}\n</script>\n\n<style lang=\"scss\">\nbody {\n  font-family: 'Avenir', Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  color: #2c3e50;\n  margin: 2em;\n}\n\nh1, h2 {\n  font-weight: normal;\n  margin: 1.5em 0 0.5em 0;\n}\n\nul {\n  list-style-type: none;\n  padding: 0;\n}\n\na {\n  color: #42b983;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=1a01b8a8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\nimport VueRouter from 'vue-router'\n\nVue.config.productionTip = false\n\nVue.use(VueRouter)\n\nimport store from '@/store'\nimport App from '@/App.vue'\nimport Room from '@/views/Room.vue'\nimport Index from '@/views/Index.vue'\n\nconst router = new VueRouter({\n  mode: 'hash',\n  base: __dirname,\n  routes: [\n    { path: '/', name: 'index', component: Index },\n    { path: '/room/:id', name: 'room', component: Room },\n  ]\n})\n\nconst app = new Vue({\n  router,\n  store,\n  render: h => h(App),\n}).$mount('#app')\n\nexport default { app }\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss\"","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport Room from 'ipfs-pubsub-room'\nconst ipfs = new window.Ipfs({\n  EXPERIMENTAL: {\n    pubsub: true\n  },\n  config: {\n    Addresses: {\n      Swarm: [\n        // TODO: Try webrtc? https://github.com/ipfs/js-ipfs/issues/1088\n        //'/dns4/wrtc-star.discovery.libp2p.io/tcp/443/wss/p2p-webrtc-star',\n        '/dns4/ws-star.discovery.libp2p.io/tcp/443/wss/p2p-websocket-star'\n      ]\n    }\n  }\n})\n\n\nVue.use(Vuex)\n\nconst maxLength = 10\nconst browserStore = window.localStorage\n\nfunction anonName(peer) {\n  return peer\n}\n\nfunction defaultName() {\n  return browserStore.getItem('name')\n}\n\nlet ipfsRoom;\n\nfunction getName(state, peer) {\n  if (!peer) return 'Anonymoose'\n  const p = state.peers[peer]\n  if (!p || !p.name) return anonName(peer)\n  return p.name\n}\n\nexport default new Vuex.Store({\n  strict: true,\n  state: {\n    me: {\n      id: '',\n      name: defaultName(),\n    },\n    ready: false,\n    room: '',\n    posts: [],\n    video: {\n      id: '',\n      paused: false,\n      timestamp: 0,\n      offset: 0,\n    },\n    peers: {},\n    started: +new Date(),\n    askedState: false,\n  },\n  getters: {\n    name: (state) => (peer) => {\n      return getName(state, peer)\n    }\n  },\n  mutations: {\n    handleReceive(state, {from, data}) {\n      if (data.post) {\n        state.posts.push({\n          from: from,\n          text: data.post\n        })\n        if (state.posts.length > maxLength) {\n          state.posts.shift();\n        }\n      }\n      if (data.name) {\n        Vue.set(state.peers, from, {name: data.name})\n      }\n      if (data.sync && data.sync > state.started) {\n        ipfsRoom.sendTo(from, JSON.stringify({\n          state: {\n            video: state.video,\n            posts: state.posts,\n            peers: state.peers,\n          },\n        }))\n      }\n      if (data.state && state.askedState===from) {\n        if (state.me.id && state.me.name) {\n          // Override me\n          data.state.peers[state.me.id] = { name: state.me.name }\n          ipfsRoom.broadcast(JSON.stringify({name: state.me.name}))\n        }\n        state.askedState = false\n        state.video = data.state.video\n        state.posts = data.state.posts\n        state.peers = data.state.peers\n      }\n      if (data.video) {\n        if (state.video.id !== data.video.id) {\n          state.posts.push({text: 'Video set by ' + getName(state, from)})\n        } else if (state.video.paused && !data.video.paused) {\n          state.posts.push({text: 'Video started by ' + getName(state, from) + ' at ' + Math.round(data.video.offset, 0)+'s'})\n        } else if (!state.video.paused && data.video.paused) {\n          state.posts.push({text: 'Video paused by ' + getName(state, from)})\n        } else if (!state.video.offset !== data.video.offset) {\n          state.posts.push({text: 'Video jumped by ' + getName(state, from)})\n        }\n        state.video = data.video\n      }\n    },\n    addPost(state, post) {\n      if (state.ready) {\n        ipfsRoom.broadcast(JSON.stringify({post}))\n      } else {\n        state.posts.push({\n          from: state.me.id,\n          text: post,\n        })\n      }\n    },\n    reset(state) {\n      state.room = ''\n      state.posts = []\n      state.peers = {}\n      state.video = {\n        id: '',\n        paused: false,\n        timestamp: 0,\n      }\n    },\n    setMe(state, {id, name}) {\n      if (id && state.me.id !== id) {\n        if (state.me.id) Vue.delete(state.peers, state.me.id)\n        Vue.set(state.me, 'id', id)\n      }\n      if (name) {\n        browserStore.setItem('name', name)\n        Vue.set(state.me, 'name', name)\n        ipfsRoom.broadcast(JSON.stringify({name}))\n      } else if (state.me.name) {\n        ipfsRoom.broadcast(JSON.stringify({name: state.me.name}))\n      }\n    },\n    setRoom(state, room) {\n      state.room = room;\n    },\n    setVideo(state, {id, paused, offset }) {\n      const timestamp = +new Date()\n      ipfsRoom.broadcast(JSON.stringify({video: { id, paused, timestamp, offset }}))\n    },\n    addPeer(state, peer) {\n      Vue.set(state.peers, peer, {\n      })\n    },\n    removePeer(state, peer) {\n      Vue.delete(state.peers, peer)\n    },\n    ready(state, value) {\n      state.ready = value\n    },\n    waitSync(state, peer) {\n      state.askedState = peer\n    }\n  },\n  actions: {\n    setRoom({commit, state, dispatch}, room) {\n      if (room === state.room) return\n      if (state.ready) commit('ready', false)\n      if (ipfsRoom) {\n        ipfsRoom.leave()\n        commit('reset')\n      }\n\n      commit('setRoom', room)\n\n      ipfs.on('ready', () => {\n        console.log('ready', this)\n        ipfsRoom = Room(ipfs, state.room)\n\n        ipfs.id().then((peerInfo) => {\n          commit('setMe', {id: peerInfo.id})\n        })\n\n        let numPeers = 0\n        ipfsRoom.on('peer joined', (peer) => {\n          console.log('peer joined', peer)\n          numPeers += 1\n          commit('addPeer', peer)\n\n          if (numPeers === 1) {\n            dispatch('requestState', peer)\n          }\n        })\n\n        ipfsRoom.on('peer left', (peer) => {\n          console.log('peer left', peer)\n          commit('removePeer', peer)\n        })\n\n        ipfsRoom.on('subscribed', (id) => {\n          console.log('peer subscribed', id)\n          if (id !== room) {\n            console.error('wrong room, this should not happen')\n          }\n          commit('ready', true)\n        })\n\n        ipfsRoom.on('message', (message) => {\n          const data = JSON.parse(message.data)\n          console.log('message', message.from, data)\n          commit('handleReceive', {from: message.from, data: data})\n        })\n      })\n    },\n    requestState({commit, state}, peer) {\n      if (peer === undefined) {\n        // We choose a random peer to get state from\n        const peers = ipfsRoom.getPeers()\n        if (peers.length === 0) return // We're the host?\n\n        const idx = ~~(Math.random() * peers.length)\n        peer = peers[idx]\n      }\n      commit('waitSync', peer)\n      ipfsRoom.sendTo(peer, JSON.stringify({sync: state.started}))\n    },\n  }\n})\n"],"sourceRoot":""}