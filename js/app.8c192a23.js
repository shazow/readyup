webpackJsonp([1],{0:function(t,e,a){t.exports=a("NHnr")},CZjj:function(t,e){},G3BA:function(t,e){},M93x:function(t,e,a){"use strict";var i={name:"app",data:function(){return{displayname:"Anonymoose",room:""}}},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("h1",[t._v("readyup")]),a("p",[t._v("\n    Coordinate your work or play sessions with your friends.\n  ")]),a("p",[t._v("\n    I am "),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.displayname,expression:"displayname",modifiers:{trim:!0}}],attrs:{type:"text",maxlength:"10"},domProps:{value:t.displayname},on:{input:function(e){e.target.composing||(t.displayname=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),a("router-view",{staticClass:"view",attrs:{displayname:t.displayname}})],1)},o=[],n=a("XyMi");function r(t){a("G3BA")}var u=!1,l=r,d=null,p=null,m=Object(n["a"])(i,s,o,u,l,d,p);e["a"]=m.exports},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var i=a("/5sW"),s=a("/ocq"),o=a("olkN"),n=a("M93x"),r=a("Yc3v"),u=a("mlqX");i["a"].config.productionTip=!1,i["a"].use(s["a"]);var l=new s["a"]({mode:"hash",base:t,routes:[{path:"/",name:"index",component:u["a"]},{path:"/room/:id",name:"room",component:r["a"]}]}),d=new i["a"]({router:l,store:o["a"],render:function(t){return t(n["a"])}}).$mount("#app");e["default"]={app:d}}.call(e,"/")},Yc3v:function(t,e,a){"use strict";var i={name:"Wall",props:["room","displayname"],data:function(){return{text:""}},methods:{post:function(){this.$store.commit("addPost",{displayname:this.displayname,text:this.text}),this.text=""}}},s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wall"},[a("h2",[t._v("Wall")]),a("ul",{staticClass:"posts"},[t._l(t.$store.state.posts,function(e,i){return a("li",{key:i},[a("span",{staticClass:"displayname"},[t._v(t._s(e.displayname))]),t._v(" "+t._s(e.text)+"\n    ")])}),a("li",[a("form",{on:{submit:function(e){return e.preventDefault(),t.post(e)}}},[a("span",{staticClass:"displayname"},[t._v(t._s(t.displayname))]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.text,expression:"text",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"..."},domProps:{value:t.text},on:{input:function(e){e.target.composing||(t.text=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("input",{attrs:{type:"submit",value:"Post"}})])])],2)])},o=[],n=a("XyMi");function r(t){a("CZjj")}var u=!1,l=r,d=null,p=null,m=Object(n["a"])(i,s,o,u,l,d,p),c=m.exports,h=a("/5sW"),f=a("5/be"),v=a.n(f);h["a"].use(v.a);var y={name:"Video",data:function(){return{url:"",paused:!0,player:null}},methods:{handleReady:function(t){this.player=t,this.pullState()},handlePlaying:function(){this.paused=!1,this.pushState()},handlePaused:function(){this.paused=!0,this.pushState()},pushState:function(){this.$store.state.video.paused!==this.paused&&this.$store.commit("setVideo",{paused:this.paused,id:this.$store.state.video.id})},pullState:function(t){var e=void 0!==t?t.video:this.$store.state.video;if(e.paused!==this.paused)if(e.paused)this.pause();else{if(e.timestamp){var a=(+new Date-e.timestamp)/1e3;this.seek(a)}this.play()}},seek:function(t){return this.player&&this.player.seekTo(t)},play:function(){return this.player&&this.player.playVideo()},pause:function(){return this.player&&this.player.pauseVideo()},isPlaying:function(){return this.player&&1===this.player.getPlayerState()},post:function(){this.$store.commit("setVideo",{paused:!0,id:this.$youtube.getIdFromURL(this.url)}),this.url=""}},mounted:function(){this.$store.subscribe(function(t,e){"vuexfire/OBJECT_VALUE"===t.type&&"video"===t.payload.key&&t.payload.record.paused!==this.paused&&this.pullState(e)}.bind(this))}},b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video"},[a("h2",[t._v("Video")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.post(e)}}},[a("label",[t._v("Youtube Link")]),a("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.url,expression:"url",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"https://youtube.com/..."},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}}),a("input",{attrs:{type:"submit",value:"Set"}})]),t.$store.state.video.id?a("youtube",{ref:"youtube",attrs:{"video-id":t.$store.state.video.id},on:{playing:t.handlePlaying,paused:t.handlePaused,ready:t.handleReady}}):t._e()],1)},x=[],_=!1,g=null,$=null,w=null,P=Object(n["a"])(y,b,x,_,g,$,w),C=P.exports,k={name:"Room",props:["displayname"],components:{Wall:c,Video:C},created:function(){this.$store.dispatch("setRoom",this.$route.params.id)}},R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"room"},[t._v("\n  Welcome to "+t._s(t.$store.state.room)+".\n\n  "),a("wall",{attrs:{displayname:t.displayname,room:t.$route.params.id}}),a("Video")],1)},S=[],V=!1,j=null,O=null,N=null,M=Object(n["a"])(k,R,S,V,j,O,N);e["a"]=M.exports},mlqX:function(t,e,a){"use strict";function i(t,e){for(var a=e||"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",s=t;s>0;s--)i+=a[~~(Math.random()*a.length)];return i}var s={name:"Index",mounted:function(){var t=i(8);this.$router.push({name:"room",params:{id:t}})}},o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._v("Creating room...")])},n=[],r=a("XyMi"),u=!1,l=null,d=null,p=null,m=Object(r["a"])(s,o,n,u,l,d,p);e["a"]=m.exports},olkN:function(t,e,a){"use strict";var i=a("Biqn"),s=a.n(i),o=a("/5sW"),n=a("NYxO"),r=a("reQO"),u=a("Sazm"),l=a.n(u),d={apiKey:"AIzaSyC6mTJXbRYh6W4_yuqLRgNhuVF1tf0xHrg",authDomain:"readyup-dca70.firebaseapp.com",databaseURL:"https://readyup-dca70.firebaseio.com",storageBucket:"readyup-dca70.appspot.com",messagingSenderId:"441335442636"},p=l.a.initializeApp(d),m=p.database(),c=m;o["a"].use(n["a"]);var h=10;e["a"]=new n["a"].Store({strict:!0,state:{room:"",posts:[],video:{id:"",paused:!1,timestamp:0}},getters:{},mutations:s()({addPost:function(t,e){var a=e.displayname,i=e.text,s=c.ref("room").child(t.room).child("posts");s.push({displayname:a,text:i}),t.posts.length>h&&s.child(t.posts[0][".key"]).remove()},setRoom:function(t,e){t.room=e},setVideo:function(t,e){var a=e.id,i=e.paused,s=+new Date;t.video={id:a,paused:i,timestamp:s},c.ref("room").child(t.room).child("video").set(t.video)},setVideoPause:function(t,e){t.video.paused=e,t.video.timestamp=+new Date,c.ref("room").child(t.room).child("video").set(t.video)}},r["firebaseMutations"]),actions:{setRoom:Object(r["firebaseAction"])(function(t,e){var a=t.commit,i=t.bindFirebaseRef,s=c.ref("room").child(e);i("posts",s.child("posts")),i("video",s.child("video")),a("setRoom",e)})}})}},[0]);
//# sourceMappingURL=app.8c192a23.js.map